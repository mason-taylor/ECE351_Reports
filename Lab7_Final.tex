

% Default to the notebook output style

    


% Inherit from the specified cell style.




    
        %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
        % Mason Taylor
        % Signals & Systems Lab
        % Lab #7
        % 10/20/2019
        %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
    
    \documentclass[12pt]{report}

    
    
        \usepackage[english]{babel}
        \usepackage{url}
        \usepackage[utf8x]{inputenc}
        \usepackage{amsmath}
        \usepackage{graphicx}
        \graphicspath{{images/}}
        \usepackage{parskip}
        \usepackage{fancyhdr}
        \usepackage{vmargin}
        \usepackage{listings}
        \usepackage{hyperref}
        \usepackage{geometry}
        \usepackage{fancyvrb}
        \usepackage{xcolor}
        \usepackage{adjustbox}
        \usepackage{titlesec}
    

    
        \title{Lab \#7}
        \date{10/20/2019}
        \author{Mason Taylor}

        % Setup for chapter titles
        \titleformat{\chapter}
        {\normalfont\LARGE\bfseries}{\thechapter}{1em}{}
        \titlespacing*{\chapter}{0pt}{3.5ex plus 1ex minus .2ex}{2.3ex plus .2ex}

        % Syntax highlighting colors
        \definecolor{codegreen}{rgb}{0,0.6,0}
        \definecolor{codegray}{rgb}{0.5,0.5,0.5}
        \definecolor{codeblue}{rgb}{0,0,0.82}
        \definecolor{codepurple}{rgb}{0.58,0,0.82}
        \definecolor{codeorange}{rgb}{0.75,0.4,0.0}
        \definecolor{backcolour}{rgb}{0.95,0.95,0.92}

        % Commands for Pandoc Conversion
        \providecommand{\tightlist}{%
        \setlength{\itemsep}{0pt}\setlength{\parskip}{0pt}}

        % Colors for the hyperref package
        \definecolor{urlcolor}{rgb}{0,.145,.698}
        \definecolor{linkcolor}{rgb}{.71,0.21,0.01}
        \definecolor{citecolor}{rgb}{.12,.54,.11}

        % ANSI colors
        \definecolor{ansi-black}{HTML}{3E424D}
        \definecolor{ansi-black-intense}{HTML}{282C36}
        \definecolor{ansi-red}{HTML}{E75C58}
        \definecolor{ansi-red-intense}{HTML}{B22B31}
        \definecolor{ansi-green}{HTML}{00A250}
        \definecolor{ansi-green-intense}{HTML}{007427}
        \definecolor{ansi-yellow}{HTML}{DDB62B}
        \definecolor{ansi-yellow-intense}{HTML}{B27D12}
        \definecolor{ansi-blue}{HTML}{208FFB}
        \definecolor{ansi-blue-intense}{HTML}{0065CA}
        \definecolor{ansi-magenta}{HTML}{D160C4}
        \definecolor{ansi-magenta-intense}{HTML}{A03196}
        \definecolor{ansi-cyan}{HTML}{60C6C8}
        \definecolor{ansi-cyan-intense}{HTML}{258F8F}
        \definecolor{ansi-white}{HTML}{C5C1B4}
        \definecolor{ansi-white-intense}{HTML}{A1A6B2}
        \definecolor{ansi-default-inverse-fg}{HTML}{FFFFFF}
        \definecolor{ansi-default-inverse-bg}{HTML}{000000}

        % Exact colors from NB
        \definecolor{incolor}{rgb}{0.0, 0.0, 0.5}
        \definecolor{outcolor}{rgb}{0.545, 0.0, 0.0}

        %Listing colors
        \lstdefinestyle{mystyle}{
            backgroundcolor=\color{backcolour},   
            commentstyle=\itshape\color{codegray},
            keywordstyle=\color{codegreen},
            numberstyle=\tiny\color{codepurple},
            stringstyle=\color{codeorange},
            identifierstyle=\color{codeblue},
            basicstyle=\ttfamily\footnotesize,
            breakatwhitespace=false,         
            breaklines=true,                 
            captionpos=b,                    
            keepspaces=true,                 
            numbers=none,                    
            numbersep=5pt,                  
            showspaces=false,                
            showstringspaces=false,
            showtabs=false,                  
            tabsize=2
        }
        \lstset{style=mystyle}

        % Define a nice break command that doesn't care if a line doesn't already exist.
        \def\br{\hspace*{\fill} \\* }
        % Math Jax compatibility definitions
        \def\gt{>}
        \def\lt{<}
        \let\Oldtex\TeX
        \let\Oldlatex\LaTeX
        \renewcommand{\TeX}{\textrm{\Oldtex}}
        \renewcommand{\LaTeX}{\textrm{\Oldlatex}}
    

    
        % Prevent overflowing lines due to hard-to-break entities
        \sloppy 
        % Setup hyperref package
        \hypersetup{
        breaklinks=true,  % so long urls are correctly broken across lines
        colorlinks=true,
        urlcolor=urlcolor,
        linkcolor=linkcolor,
        citecolor=citecolor,
        }
        \makeatletter
        \let\thetitle\@title
        \let\reptitle\@title
        \let\theauthor\@author
        \let\thedate\@date
        \makeatother
        \pagestyle{fancy}
        \fancyhf{}
        \rhead{\theauthor}
        \lhead{\reptitle}
        \cfoot{\thepage}
        
            \setmarginsrb{3 cm}{2.5 cm}{3 cm}{2.5 cm}{1 cm}{1.5 cm}{1 cm}{1.5 cm}
        
    


    \begin{document}
    
    
\begin{titlepage}
	\centering
\begin{center}    
    \textsc{\Large Signals \& Systems Lab}\\[2.0 cm]	
    \textsc{\Large ECE 351 - 51}\\[0.5 cm]
    \textsc{\small Instructor: Dr. Dennis Sullivan}\\[0.5 cm]
    \textsc{\small Lab TA: Phillip Hagen}
\end{center}
	\rule{\linewidth}{0.4 mm} \\[0.4 cm]
	{ \huge \bfseries \thetitle}\\
	\rule{\linewidth}{0.4 mm} \\[1.5 cm]
	
	\begin{minipage}{0.4\textwidth}
		\begin{flushleft} \large
		%	\emph{Submitted To:}\\
		%	Name\\
          % Affiliation\\
           %contact info\\
			\end{flushleft}
			\end{minipage}~
			\begin{minipage}{0.4\textwidth}
            
			\begin{flushright} \large
			\emph{Prepared By :} \\
			\theauthor  \\
			\thedate
		\end{flushright}  
	\end{minipage}\\[2 cm]
\end{titlepage}
    \tableofcontents
    \pagebreak


    
\hypertarget{introduction}{%
\chapter{Introduction}\label{introduction}}

We will be performing block diagram analysis to find the transfer
functions of systems represented by connected blocks with arbitrary
transfer functions. Block diagram analysis is important since it enables
us to find the transfer functions systems with various components when
we know the transfer functions of all the components. We will perform
two types of analysis on our simple block diagram, open-loop, and
closed-loop, and each will yield a different function. The open-loop
transfer function is the transfer function of the shortest path in from
input to output in the system. The closed-loop transfer function is the
commonly used total transfer function. We will analyze the following
diagram:

\begin{figure}[h]
   \centering
    \includegraphics[width=0.7\textwidth]{circuit.png}
    \caption{The circuit we will analyze.}
\end{figure}

\hypertarget{equations}{%
\chapter{Equations}\label{equations}}

\hypertarget{part-1}{%
\section{Part 1}\label{part-1}}

The transfer functions of individual components are given by the
following: \[ G(s)=\frac{s+9}{(s-8)(s+2)(s+4)} \]
\[ A(s)= \frac{s+4}{(s+1)(s+3)} \] \[ B(s)= (s+12)(s+14) \] It is quite
easy to see the poles and zeros of the functions in this factored form.
For \(G(s)\) zeros are -9, poles are 8,-2,-4 for \(A(s)\), zeros are -4,
poles are -1, -3, finally for \(B(s)\) the zeros are -12, -14 with no
poles. \br \br The open loop transfer function will simply follow the
top branch and therefore it can be written as:
\[ H_{OL}(s)=A(s)G(s)=\frac{s+9}{(s-8)(s+2)(s+1)(s+3)} \] The poles of
this function are at 8, -2, -1, -3 which means that this response is NOT
stable due to the pole at 8. This will cause the output to be unbounded,
and with a minor input will rapidly go out of control.

\hypertarget{part-2}{%
\section{Part 2}\label{part-2}}

We now find the closed loop transfer function, which will be:
\[ \frac{A(s)G(s)}{1+G(s)B(s)} \] To find this function, we will use
scipy.signal.convolve to multiply out the binomial terms and fully
expand the numerator and denominator. Symbolically, in terms of
numerator and denominator of each function, we can find the
representation of the total transfer function:
\[ \frac{\frac{numA*numG}{denA*denG}}{1+\frac{numG*numB}{denG*denB}} \]
Which simplifies to (noting that denB = 1):
\[ \frac{numA*numG}{denA*(denG+numG*numB)} \] Using the convolve
function to do the multiplication, we obtain:
\[ H(s)=\frac{s^2+13s+36}{2s^5+41s^4+500s^3+2995s^2+6878s+4344} \] This
function has various real and complex poles, but the real portions are
all negative, meaning that this function is stable.

\hypertarget{results}{%
\chapter{Results}\label{results}}

\hypertarget{part-1-results}{%
\section{Part 1 Results}\label{part-1-results}}

Shown first are the poles and zeros of the open loop transfer function
then, the plot of the open loop transfer function.

    \begin{Verbatim}[commandchars=\\\{\}]
Poles and Zeros of the open loop transfer function:
Zeros: [-9.] Poles: [ 8. -3. -2. -1.]

    \end{Verbatim}

    \begin{figure}
    \begin{center}
    \adjustimage{max size={\linewidth}}{output_2_1.png}
    \end{center}
    \caption{The step response of the open-loop system.}
\end{figure}
    
\pagebreak

\hypertarget{part-2-results}{%
\section{Part 2 Results}\label{part-2-results}}

We now find the closed loop step response of the given system. To do
this, we will use the library function \textbf{scipy.signal.convolve} to
perform the multinomial multiplication for us, and give the coefficients
of each s term in the form needed for the residue function.

    \begin{Verbatim}[commandchars=\\\{\}]
Poles and Zeros of the closed loop (overall) tranfer function:
Zeros:  [-9. -4.]
Poles:  [-5.16237064+9.51798197j -5.16237064-9.51798197j -6.17525872+0.j
 -3.        +0.j         -1.        +0.j        ]

    \end{Verbatim}

    \begin{figure}
    \begin{center}
    \adjustimage{max size={\linewidth}}{output_5_1.png}
    \end{center}
    \caption{Step response of the closed loop system.}
\end{figure}
    
\hypertarget{questions}{%
\chapter{Questions}\label{questions}}

\begin{enumerate}
\def\labelenumi{\arabic{enumi}.}
\tightlist
\item
  \textbf{In Part 1, why does convolving the factored terms using
  \texttt{scipy.signal.convolve()} result in the expanded form of the
  numerator and denominator? Would this work with your user-defined
  convolution function from Lab 3? Why or why not?}\br  This is because
  convolve scales 1 function by each value of the other function and
  sums the results, keeping them aligned based on the shift of the
  second function. This process results in a process similar to FOIL but
  scaled to any multinomial. The process would work equally well with
  the custom convolve function as long as the time step is given as 1.
  \br \br 
\item
  \textbf{Discuss the difference between the open- and closed-loop
  systems from Part 1 and Part 2. How does stability differ for each
  case, and why?}\br  The open loop transfer function does not account
  for the feedback in the system and simply takes the most direct path
  from input to output. Consequently, it can result in a response that
  is much more volatile since it is not regulated by the negative
  feedback loop. However, the closed loop transfer function considers
  the full effect of all the components, and thus turns out to be stable
  system due to the negative feedback.\br \br 
\item
  \textbf{What is the difference between \texttt{scipy.signal.residue()}
  used in Lab 6 and \texttt{scipy.signal.tf2zpk()} used in this
  lab?}\br  Residue performs a partial fraction expansion into linear
  terms whereas tf2zpk is more like factoring the numerator and
  denominator of the function and examining to find the poles and zeros
  of the function. \br \br 
\item
  \textbf{Is it possible for an open-loop system to be stable? What
  about for a closed-loop system to be unstable? Explain how or how not
  for each.}\br  It is quite possible for both of the situations to
  occur. If the transfer function of each component in the open-loop
  path has only negative poles, then the open-loop function will be
  stable. If the closed-loop system contains a positive feedback loop,
  it is very likely it will be unstable.
\end{enumerate}

\hypertarget{conclusion}{%
\chapter{Conclusion}\label{conclusion}}

In this lab we have examined block diagrams and transfer functions by
manual analysis and using functions available in Python libraries. We
have looked at stability and instability and how to determine whether a
given system is stable or not depending on the poles and zeros of the
transfer function. Functions with poles in the positive quadrant will be
unstable and if all the poles are negative, it will be stable.


    % Add a bibliography block to the postdoc
    
    
    
    \end{document}
